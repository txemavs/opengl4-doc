
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>function glStencilOp &mdash; OpenGL documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="OpenGL documentation" href="../../../index.html" />
    <link rel="up" title="OpenGL v.4 Reference" href="../../../index_man4.html" />
    <link rel="next" title="function glStencilOpSeparate" href="glStencilOpSeparate.html" />
    <link rel="prev" title="function glStencilMaskSeparate" href="glStencilMaskSeparate.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="glStencilOpSeparate.html" title="function glStencilOpSeparate"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="glStencilMaskSeparate.html" title="function glStencilMaskSeparate"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">[]</a> &raquo;</li>
          <li><a href="../../../index_man4.html" accesskey="U">OpenGL v.4 Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="function-glstencilop">
<h1>function <cite>glStencilOp</cite><a class="headerlink" href="#function-glstencilop" title="Permalink to this headline">¶</a></h1>
<div class="figure align-right">
<img alt="OpenGL" src="../../../_images/opengl.png" />
<p class="caption">Version 4 Vol. 3G</p>
</div>
<p>Set front and back stencil test actions</p>
<dl class="function">
<dt id="glStencilOp">
<tt class="descname">glStencilOp</tt><big>(</big><big>)</big><a class="headerlink" href="#glStencilOp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sfail</strong> &#8211; Specifies the action to take when the stencil test fails.
Eight symbolic constants are accepted:
<tt class="docutils literal"><span class="pre">GL_KEEP</span></tt>,
<tt class="docutils literal"><span class="pre">GL_ZERO</span></tt>,
<tt class="docutils literal"><span class="pre">GL_REPLACE</span></tt>,
<tt class="docutils literal"><span class="pre">GL_INCR</span></tt>,
<tt class="docutils literal"><span class="pre">GL_INCR_WRAP</span></tt>,
<tt class="docutils literal"><span class="pre">GL_DECR</span></tt>,
<tt class="docutils literal"><span class="pre">GL_DECR_WRAP</span></tt>, and
<tt class="docutils literal"><span class="pre">GL_INVERT</span></tt>. The initial value is <tt class="docutils literal"><span class="pre">GL_KEEP</span></tt>.</li>
<li><strong>dpfail</strong> &#8211; Specifies the stencil action when the stencil test passes,
but the depth test fails.
<em>dpfail</em> accepts the same symbolic constants as <em>sfail</em>. The initial value
is <tt class="docutils literal"><span class="pre">GL_KEEP</span></tt>.</li>
<li><strong>dppass</strong> &#8211; Specifies the stencil action when both the stencil test and the depth
test pass, or when the stencil test passes and either there is no
depth buffer or depth testing is not enabled.
<em>dppass</em> accepts the same symbolic constants as <em>sfail</em>. The initial value
is <tt class="docutils literal"><span class="pre">GL_KEEP</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Specification</p>
<dl class="function">
<dt>
void <tt class="descname">glStencilOp</tt><big>(</big>GLenum <em>&nbsp;sfail</em>, GLenum <em>&nbsp;dpfail</em>, GLenum <em>&nbsp;dppass</em><big>)</big></dt>
<dd></dd></dl>

<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="glBlendFunc.html#glBlendFunc" title="glBlendFunc"><tt class="xref c c-func docutils literal"><span class="pre">glBlendFunc()</span></tt></a>,
<a class="reference internal" href="glDepthFunc.html#glDepthFunc" title="glDepthFunc"><tt class="xref c c-func docutils literal"><span class="pre">glDepthFunc()</span></tt></a>,
<a class="reference internal" href="glEnable.html#glEnable" title="glEnable"><tt class="xref c c-func docutils literal"><span class="pre">glEnable()</span></tt></a>,
<a class="reference internal" href="glLogicOp.html#glLogicOp" title="glLogicOp"><tt class="xref c c-func docutils literal"><span class="pre">glLogicOp()</span></tt></a>,
<a class="reference internal" href="glStencilFunc.html#glStencilFunc" title="glStencilFunc"><tt class="xref c c-func docutils literal"><span class="pre">glStencilFunc()</span></tt></a>,
<a class="reference internal" href="glStencilFuncSeparate.html#glStencilFuncSeparate" title="glStencilFuncSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilFuncSeparate()</span></tt></a>,
<a class="reference internal" href="glStencilMask.html#glStencilMask" title="glStencilMask"><tt class="xref c c-func docutils literal"><span class="pre">glStencilMask()</span></tt></a>,
<a class="reference internal" href="glStencilMaskSeparate.html#glStencilMaskSeparate" title="glStencilMaskSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilMaskSeparate()</span></tt></a>,
<a class="reference internal" href="glStencilOpSeparate.html#glStencilOpSeparate" title="glStencilOpSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOpSeparate()</span></tt></a></p>
</div>
<p class="rubric">Description</p>
<p>Stenciling,
like depth-buffering,
enables and disables drawing on a per-pixel basis.
You draw into the stencil planes using GL drawing primitives,
then render geometry and images,
using the stencil planes to mask out portions of the screen.
Stenciling is typically used in multipass rendering algorithms
to achieve special effects,
such as decals,
outlining,
and constructive solid geometry rendering.</p>
<p>The stencil test conditionally eliminates a pixel based on the outcome
of a comparison between the value in the stencil buffer and a
reference value. To enable and disable the test, call <a class="reference internal" href="glEnable.html#glEnable" title="glEnable"><tt class="xref c c-func docutils literal"><span class="pre">glEnable()</span></tt></a>
and <a class="reference internal" href="glEnable.html#glDisable" title="glDisable"><tt class="xref c c-func docutils literal"><span class="pre">glDisable()</span></tt></a> with argument
<tt class="docutils literal"><span class="pre">GL_STENCIL_TEST</span></tt>; to control it, call
<a class="reference internal" href="glStencilFunc.html#glStencilFunc" title="glStencilFunc"><tt class="xref c c-func docutils literal"><span class="pre">glStencilFunc()</span></tt></a> or
<a class="reference internal" href="glStencilFuncSeparate.html#glStencilFuncSeparate" title="glStencilFuncSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilFuncSeparate()</span></tt></a>.</p>
<p>There can be two separate sets of <em>sfail</em>, <em>dpfail</em>, and
<em>dppass</em> parameters; one affects back-facing polygons, and the other
affects front-facing polygons as well as other non-polygon primitives.
<a class="reference internal" href="#glStencilOp" title="glStencilOp"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOp()</span></tt></a> sets both front
and back stencil state to the same values. Use <a class="reference internal" href="glStencilOpSeparate.html#glStencilOpSeparate" title="glStencilOpSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOpSeparate()</span></tt></a>
to set front and back stencil state to different values.</p>
<p><a class="reference internal" href="#glStencilOp" title="glStencilOp"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOp()</span></tt></a> takes three arguments that indicate what happens
to the stored stencil value while stenciling is enabled.
If the stencil test fails,
no change is made to the pixel&#8217;s color or depth buffers,
and <em>sfail</em> specifies what happens to the stencil buffer contents.
The following eight actions are possible.</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">GL_KEEP</span></tt></p>
<blockquote>
<div>Keeps the current value.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_ZERO</span></tt></p>
<blockquote>
<div>Sets the stencil buffer value to 0.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_REPLACE</span></tt></p>
<blockquote>
<div>Sets the stencil buffer value to <strong>ref</strong>,
as specified by <a class="reference internal" href="glStencilFunc.html#glStencilFunc" title="glStencilFunc"><tt class="xref c c-func docutils literal"><span class="pre">glStencilFunc()</span></tt></a>.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_INCR</span></tt></p>
<blockquote>
<div>Increments the current stencil buffer value.
Clamps to the maximum representable unsigned value.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_INCR_WRAP</span></tt></p>
<blockquote>
<div>Increments the current stencil buffer value.
Wraps stencil buffer value to zero when incrementing the maximum
representable unsigned value.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_DECR</span></tt></p>
<blockquote>
<div>Decrements the current stencil buffer value.
Clamps to 0.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_DECR_WRAP</span></tt></p>
<blockquote>
<div>Decrements the current stencil buffer value.
Wraps stencil buffer value to the maximum representable unsigned value when
decrementing a stencil buffer value of zero.</div></blockquote>
<p><tt class="docutils literal"><span class="pre">GL_INVERT</span></tt></p>
<blockquote>
<div>Bitwise inverts the current stencil buffer value.</div></blockquote>
</div></blockquote>
<p>Stencil buffer values are treated as unsigned integers.
When incremented and decremented,
values are clamped to 0 and
<span class="mml"><math xmlns='http://www.w3.org/1998/Math/MathML'> <mrow><msup><mn>2</mn><mi mathvariant="italic">n</mi></msup><mo>-</mo><mn>1</mn></mrow></math></span>,
where <span class="mml"><math xmlns='http://www.w3.org/1998/Math/MathML'><mi mathvariant="italic">n</mi></math></span> is the value returned by querying <tt class="docutils literal"><span class="pre">GL_STENCIL_BITS</span></tt>.</p>
<p>The other two arguments to <a class="reference internal" href="#glStencilOp" title="glStencilOp"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOp()</span></tt></a> specify stencil buffer actions
that depend on whether subsequent depth buffer tests succeed (<em>dppass</em>)
or fail (<em>dpfail</em>) (see
<a class="reference internal" href="glDepthFunc.html#glDepthFunc" title="glDepthFunc"><tt class="xref c c-func docutils literal"><span class="pre">glDepthFunc()</span></tt></a>).
The actions are specified using the same eight symbolic constants as <em>sfail</em>.
Note that <em>dpfail</em> is ignored when there is no depth buffer,
or when the depth buffer is not enabled.
In these cases, <em>sfail</em> and <em>dppass</em> specify stencil action when the
stencil test fails and passes,
respectively.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Initially the stencil test is disabled.
If there is no stencil buffer,
no stencil modification can occur
and it is as if the stencil tests always pass,
regardless of any call to <a class="reference internal" href="#glStencilOp" title="glStencilOp"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOp()</span></tt></a>.</p>
<p class="last"><a class="reference internal" href="#glStencilOp" title="glStencilOp"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOp()</span></tt></a> is the same as
calling <a class="reference internal" href="glStencilOpSeparate.html#glStencilOpSeparate" title="glStencilOpSeparate"><tt class="xref c c-func docutils literal"><span class="pre">glStencilOpSeparate()</span></tt></a>
with <em>face</em> set to <tt class="docutils literal"><span class="pre">GL_FRONT_AND_BACK</span></tt>.</p>
</div>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">GL_INVALID_ENUM</span></tt> is generated if <em>sfail</em>, <em>dpfail</em>, or <em>dppass</em> is any value other than the defined constant values.</li>
</ul>
<p><strong>Associated Gets:</strong></p>
<ul class="simple">
<li><a class="reference internal" href="glGet.html#glGet" title="glGet"><tt class="xref c c-func docutils literal"><span class="pre">glGet()</span></tt></a> with argument <tt class="docutils literal"><span class="pre">GL_STENCIL_FAIL</span></tt>, <tt class="docutils literal"><span class="pre">GL_STENCIL_PASS_DEPTH_PASS</span></tt>, <tt class="docutils literal"><span class="pre">GL_STENCIL_PASS_DEPTH_FAIL</span></tt>, <tt class="docutils literal"><span class="pre">GL_STENCIL_BACK_FAIL</span></tt>, <tt class="docutils literal"><span class="pre">GL_STENCIL_BACK_PASS_DEPTH_PASS</span></tt>, <tt class="docutils literal"><span class="pre">GL_STENCIL_BACK_PASS_DEPTH_FAIL</span></tt>, or <tt class="docutils literal"><span class="pre">GL_STENCIL_BITS</span></tt></li>
<li><a class="reference internal" href="glIsEnabled.html#glIsEnabled" title="glIsEnabled"><tt class="xref c c-func docutils literal"><span class="pre">glIsEnabled()</span></tt></a> with argument <tt class="docutils literal"><span class="pre">GL_STENCIL_TEST</span></tt></li>
</ul>
<div class="figure align-right">
<img alt="OpenGL" src="../../../_images/opengl.png" />
<p class="caption">(c)1991-2006 Silicon Graphics, Inc. SGI Free Software B License.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="glStencilMaskSeparate.html"
                        title="previous chapter">function <cite>glStencilMaskSeparate</cite></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="glStencilOpSeparate.html"
                        title="next chapter">function <cite>glStencilOpSeparate</cite></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/api/OpenGL/man4/glStencilOp.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="glStencilOpSeparate.html" title="function glStencilOpSeparate"
             >next</a> |</li>
        <li class="right" >
          <a href="glStencilMaskSeparate.html" title="function glStencilMaskSeparate"
             >previous</a> |</li>
        <li><a href="../../../index.html">[]</a> &raquo;</li>
          <li><a href="../../../index_man4.html" >OpenGL v.4 Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009 Khronos Group.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>